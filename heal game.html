<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <script>   document.addEventListener("DOMContentLoaded", function(){      const audioElement = document.getElementById('audioElement');
        const hoverSfx = document.getElementById('hoverSfx');
        const clickSfx = document.getElementById('clickSfx');
        const muteButton = document.getElementById('muteButton');
        const interactiveElements = document.querySelectorAll('a, button,div,.forwardbutton');
      
        // Ensure autoplay works
        audioElement.addEventListener('canplaythrough', () => {
            console.log('Audio is ready to play without buffering.');
            audioElement.play();
        });
      
        // Handle cases where autoplay might be blocked
        document.addEventListener('click', () => {
            if (audioElement.paused) {
                audioElement.play();
            }
        });
      
        // Mute Button Toggle
        muteButton.addEventListener('click', () => {
            if (audioElement.muted) {
                audioElement.muted = false;
                muteButton.textContent = 'Mute';
            } else {
                audioElement.muted = true;
                muteButton.textContent = 'Unmute';
            }
        });
      
        // Add hover and click sound effects
        interactiveElements.forEach(element => {
            element.addEventListener('mouseenter', () => {
                hoverSfx.currentTime = 0;
                hoverSfx.play();
            });
      
            element.addEventListener('click', () => {
                clickSfx.currentTime = 0;
                clickSfx.play();
            });
        });
        
      })</script>
    <meta charset="utf-8">
     <meta name="viewport" content="width=device-width, initial-scale=0.4, maximum-scale=0.5, user-scalable=no">
    <title>ACT 11</title>
    <style>
    
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap');
    @media screen and (orientation: landscape) {
            .potrait {
                display: none;
            }

.mute-button {
  padding: 10px 20px;
  font-family: genshin;
  font-size: 20px;
  color: #ffffff;
  background-color: #45284a;
  border: 2px solid #7d4f9a;
  border-radius: 5px;
  cursor: pointer;
  text-shadow: 1px 1px 0 #8e4f9a;
}
    
    
        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }
        body{
            display: flex;
            padding: 0 10px;
            min-height: 100vh;
            align-items: center;
            justify-content: center;
            background-color:#4A3728;
        }
        .wrapper{
            position: relative;
            bottom: 0.5%;
            left: 5%;
            width: 430px;
            background: #fffaf4;
            border-radius: 10px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .wrapper h1{
            font-family: genshin;
            font-size: 25px;
            font-weight: 500;
            padding: 20px 25px;
            border-bottom: 1px solid #745110;
        }
        .wrapper .content{
            margin: 25px 25px 35px;
        }
        .content .inputs{
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }
        .inputs input{
            font-family: dialogue;
            height: 57px;
            width: 56px;
            margin: 4px;
            font-size: 24px;
            font-weight: 500;
            color: #5f3c0e;
            text-align: center;
            border-radius: 5px;
            background: none;
            pointer-events: none;
            text-transform: uppercase;
            border: 1px solid #B5B5B5;
        }
        .typing-input {
            opacity: 0;
            z-index: -999;
            position: absolute;
            pointer-events: none;
        }
        .inputs input:first-child{
            margin-left: 0px;
        }
        .content .details{
            font-family: dialogue;
            margin: 20px 0 25px;
        }
        .details p{
            font-family: dialogue;
            font-size: 19px;
            margin-bottom: 10px;
        }
        .content .reset-btn{
            width: 100%;
            border: none;
            cursor: pointer;
            color: #fff;
            outline: none;
            padding: 15px 0;
            font-size: 17px;
            border-radius: 5px;
            background: #5f3c0e;
            transition: all 0.3s ease;
        }
        .content .reset-btn:hover{
            background: #b47e36;
        }
            .wrapper {
                width: 40%;
            }
            .wrapper h1{
                font-size: 22px;
                padding: 16px 20px;
            }
            .wrapper .content{
                margin: 25px 20px 35px;
            }
            .inputs input{
                height: 51px;
                width: 50px;
                margin: 3px;
                font-size: 22px;
            }
            .details p{
                font-size: 17px;
            }
            .content .reset-btn{
                padding: 14px 0;
                font-size: 16px;
            }
        
        .modal {
            display: NONE;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgb(0,0,0);
            background-color: rgba(0,0,0,0.4);
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .modal-content {
        position: absolute;
        top: -20%;
        left: 10%;
            border-radius: 1%;
            overflow: hidden;
            background-color:  #fcebd4 ;
            margin: 15% auto;
            padding: 20px;
            border: 5px solid  #5f3c0e ;
            height: 600px;
            width: 1200px;

        }

        .modal h2{
            font-family: genshin;
            z-index: 1;
            position: absolute;
            top: 10%;
            left: 23%;
            font-size: 120px;
            color:   #56340a ;
        }
        .modal p{
            font-family: dialogue;
            z-index: 1;
            top: 40%;
            left: 35.5%;
            position: absolute;
            font-size: 30px;
            color: #845213 ;
        }
        .modal button{
            position: absolute;
            top: 80%;
            left: 38%;
            padding: 25px 42px;
            text-align: center;
            text-decoration: none;
            border-radius: 3px ;
            font-size:25px ;
            color: #f5ce9d;
            font-family: dialogue;
            background-color:#9b6e35;
        }

        .container {
            width: 1450px;
            height: 700px;
            background: #d9c7be;
            display: flex;
            padding: 60px 40px;
            border-radius: 10px;
            align-items: center;
            justify-content: center;
        }
        @font-face {
            font-family:genshin;
            src: url(zh-cn.ttf);
        }
        @font-face {
            font-family:dialogue;
            src: url(CookieRunRegular.otf);
        }
        #backgroundImages {
            position: static;
            top:23.5%;
            left:15%;
            z-index: 1;
            background-size: cover;
            background-position: center;
            width:40%;
            height:60%;
            background-image: url('art/AC11/hell/ACtxt1.png');
        }

    }
        
    @media screen and (orientation: portrait) {
            .container {
                display: none;
            }
            .potrait {
            display: flex;
        }
}   
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        


    </style>
    <meta name="viewport" content="width=device-width, intitial-scale=0.5 maximum-scale=1, user-scalable=no">
</head>
<body>
    <img class="potrait" src="art/potrait.webp" alt="Landscape please!">
    <audio id="audioElement" autoplay loop>
        <source src="mus/heal.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    
    <!-- Sound Effects -->
    <audio id="clickSfx">
        <source src="sfx/nxt.wav" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
<div class="container">
    <div style=" position: absolute;
    padding: 20px;
    left: 15%;
    bottom: 78.5%;
    color: #9A7B4F;">    
 <button id="muteButton" style=" padding: 10px 20px;
 font-family: genshin;
 font-size: 20px;
 color: #ffffff;
 background-color: #4A3728;
 border: 2px solid #9A7B4F;
 border-radius: 5px;
 cursor: pointer;
 text-shadow: 1px 1px 0 #9A7B4F;">Mute</button>
</div>
    <div id="backgroundImages" ></div>
    <div class="wrapper">
        <h1>Hulaan ang Salita</h1>
        <div class="content">
            <input type="text" class="typing-input" maxlength="1">
            <div class="inputs"></div>
            <div class="details">
                <p class="hint">Pahiwatig: <span></span></p>
                <p class="guess-left">Natitirang Tangkain: <span></span></p>
                <p class="wrong-letter">Maling Letra: <span></span></p>
            </div>
            <button class="reset-btn">Ulitin ang laro</button>
        </div>
    </div>
    <div id="modal" class="modal">
        <div class="modal-content">
            <h2>MAHUSAY!</h2>
            <p>Natapos mo ang palaro! :D</p>
            <button onclick="goToNextPage()">Sumunod na pahina</button>
        </div>
    </div>
</div>
<script src="helwords.js"></script>
<script>
    const inputs = document.querySelector(".inputs"),
        hintTag = document.querySelector(".hint span"),
        guessLeft = document.querySelector(".guess-left span"),
        wrongLetter = document.querySelector(".wrong-letter span"),
        resetBtn = document.querySelector(".reset-btn"),
        typingInput = document.querySelector(".typing-input");

    let word, maxGuesses, incorrectLetters = [], correctLetters = [], correctCount = 0, correctWords = 0;
    let questionCounter = 0; // Counter for questions answered

    // Array of background images
    const backgroundImages = [
        'art/AC11/hell/ACtxt1.png', 
        'art/AC11/hell/ACtxt2.png',
        'art/AC11/hell/ACtxt3.png',
        'art/AC11/hell/ACtxt4.png'
    ];

    // Initialize the game
    function randomWord() {
        let ranItem = wordList[Math.floor(Math.random() * wordList.length)];
        word = ranItem.word;
        maxGuesses = word.length >= 5 ? 8 : 6;
        correctLetters = []; 
        incorrectLetters = [];
        hintTag.innerText = ranItem.hint;
        guessLeft.innerText = maxGuesses;
        wrongLetter.innerText = incorrectLetters;

        // Generate input fields for the word
        let html = "";
        for (let i = 0; i < word.length; i++) {
            html += `<input type="text" disabled>`;
        }
        inputs.innerHTML = html;

        // Reset input field and counters
        typingInput.value = "";
        incorrectLetters = [];
        wrongLetter.innerText = incorrectLetters;
        questionCounter = 0; // Reset question counter
    }

    // Call randomWord to initialize the first game
    randomWord();

    function initGame(e) {
        let key = e.target.value.toLowerCase();
        if (key.match(/^[A-Za-z]+$/) && !incorrectLetters.includes(` ${key}`) && !correctLetters.includes(key)) {
            if (word.includes(key)) {
                // Track how many times the letter appears in the word
                for (let i = 0; i < word.length; i++) {
                    if (word[i] === key) {
                        // Only add to correct letters if not already added
                        if (!correctLetters.includes(key)) {
                            correctLetters.push(key);
                        }
                        // Set the corresponding input value
                        inputs.querySelectorAll("input")[i].value = key;
                    }
                }
            } else {
                maxGuesses--;
                incorrectLetters.push(` ${key}`);
            }
            guessLeft.innerText = maxGuesses;
            wrongLetter.innerText = incorrectLetters;
        }
        typingInput.value = "";

        setTimeout(() => {
            // Check if all letters have been guessed
            const allLettersGuessed = word.split('').every(letter => correctLetters.includes(letter));
            if (allLettersGuessed) {
                alert(`Nahulaan mo ang salita! ${word.toUpperCase()}`);
                correctWords++; // Increment the correct word count
                questionCounter++; // Increment question counter
                
                // Change background image every 2 correct words
                if (correctWords % 2 === 0) {
                    changeBackground();
                }

                // Check if the user has reached the goal of correct words
                if (correctWords === 6) { // Show modal after 6 correct words
                    showModal();
                } else {
                    correctLetters = []; // Reset for the next word
                    return randomWord(); // Load a new word
                }
            } else if (maxGuesses < 1) {
                alert("Game over! Ubos na ang natitirang tangkain");
                for (let i = 0; i < word.length; i++) {
                    inputs.querySelectorAll("input")[i].value = word[i];
                }
            } 
        }, 100);
    }

    // Function to change background image
    function changeBackground() {
        const randomIndex = Math.floor(Math.random() * backgroundImages.length);
        document.getElementById('backgroundImages').style.backgroundImage = `url(${backgroundImages[randomIndex]})`;
    }

    function showModal() {
        const modal = document.getElementById("modal");
        modal.style.display = "block";
    }

    function closeModal() {
        const modal = document.getElementById("modal");
        modal.style.display = "none";
    }

    function goToNextPage() {
        window.location.href = 'ACPOST11.html'; // Change to your target HTML file
    }

    // Reset the game on button click
    resetBtn.addEventListener("click", () => {
        correctWords = 0; 
        maxGuesses = 0; 
        incorrectLetters = []; 
        correctLetters = []; 
        questionCounter = 0; 
        randomWord(); 
    });

    // Game input handling
    typingInput.addEventListener("input", initGame);
    inputs.addEventListener("click", () => typingInput.focus());
    document.addEventListener("keydown", () => typingInput.focus());
</script>
</body>
</html>
